<!DOCTYPE html>

<html lang="en-us">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no">

    <!-- Font Awesome for social media icons -->
    <script src="https://kit.fontawesome.com/791291c78f.js" crossorigin="anonymous"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- Site Information -->
    <title> CS639_Fa20 Project Group # </title>

    <style type="text/css">
      .smlinks {
            color: black;
        }
      .smlinks:hover {
          color: rgb(7, 107, 255);
      }
      /*html, body { scroll-behavior:smooth; }*/
      /* Conflicts with "collapse nav bar on click" */
      ul.timeline {
          list-style-type: none;
          position: relative;
      }
      ul.timeline:before {
          content: ' ';
          background: #d4d9df;
          display: inline-block;
          position: absolute;
          left: 29px;
          width: 2px;
          height: 100%;
          z-index: 400;
      }
      ul.timeline > li {
          margin: 20px 0;
          padding-left: 20px;
      }
      ul.timeline > li:before {
          content: ' ';
          background: white;
          display: inline-block;
          position: absolute;
          border-radius: 50%;
          border: 3px solid #22c0e8;
          left: 20px;
          width: 20px;
          height: 20px;
          z-index: 400;
      }
    </style>

    <!-- Favicon -->
    <!-- https://realfavicongenerator.net/ -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    
    <!-- Google Search Console verification -->
    <meta name="google-site-verification" content="YguyxAOXZakXrwT46p_SOS-zOnrWxmoydLQ8moo4nn0" />

  </head>
  <body>
    
    <!-- Nav Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
      <a class="navbar-brand" href="index.html">CS639_Fa20 Project Group #</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item" data-toggle="collapse" data-target=".navbar-collapse.show">
            <a class="nav-link" href="#introduction">Introduction</a>
          </li>
          <li class="nav-item" data-toggle="collapse" data-target=".navbar-collapse.show">
            <a class="nav-link" href="#panorama">Panorama</a>
          </li>
          <li class="nav-item" data-toggle="collapse" data-target=".navbar-collapse.show">
            <a class="nav-link" href="#obj_det">Object Detection</a>
          </li>
          <li class="nav-item" data-toggle="collapse" data-target=".navbar-collapse.show">
            <a class="nav-link" href="#improvements">Future Improvements</a>
          </li>
          <li class="nav-item" data-toggle="collapse" data-target=".navbar-collapse.show">
            <a class="nav-link" href="#sources">Sources</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Jumbotron -->
    <div class="jumbotron jumbotron-fluid">
      <div class="container">
        <h1 class="jumbotron-heading display-4 text-center">Mid-term Report</h1>
        <p class="lead text-center">Group members: <a href="https://hashiyaa.github.io" target="_blank">Haochen Shi</a>, Chenhao Lu, <a href="https://ruipeterpan.github.io/" target="_blank">Rui Pan</a></p>
        <p class="lead text-center">{hshi74, clu92, rpan33}@wisc.edu</p>
      </div>
    </div>

    <!-- Problem -->
    <div class="container mt-5 mb-5">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="introduction" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Introduction</h1>
          <p>
            In our project proposal, we suggested 3 important vision tasks that we were aiming to accomplish with our RelaxedIK framework: taking a stable panoramic picture, detecting objects in real-time, and tracking moving objects, in the order of increasing difficulties. After we start our implementation and re-evaluate the challenges of these tasks, we are confident that it is feasible to complete all of them by the end of the semester. In the mid-term report, we will show our preliminary results of the first two tasks.
          </p>
        </div>
      </div>
    </div>

    <!-- Background -->
    <div class="container mt-5 mb-5">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="panorama" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Taking a panorama</h1>
          <p>
            A real robot is not accessible to us due to the Covid-19 pandemic, so we decided to carry out our implementation and experiments in a simulated environment as shown in Fig. 1. For this task, we tested a Rethink Robotics Sawyer (7-DOF) in a scene simulated in CoppeliaSim [1].       
          </p>
<!--         </div>
        <div class="col-sm-12"> -->
          <div class="card mb-3">
            <img src="./assets/images/fig1.png" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><small class="text-muted">Fig. 1. A screenshot of the simulated scene in CoppeliaSim</small></p>
            </div>
          </div>

          <p>
            We used two control methods to test our implementation: (1) A user uses an Xbox game controller (also known as a joypad) to interactively drive the Sawyer robot. (2) Make the Sawyer robot automatically follow a motion path in the cartesian space. 
          </p>

          <p>
            In both methods, we controlled the Sawyer robot to rotate 150 degrees around its wrist (link 7) at a fixed position. During the rotation, we used the camera attached to the end effector of the Sawyer robot to capture images with an interval of 0.3s. After we obtained the images, we combined them into a panorama with the OpenCV stitcher [7]. The images before and after stitching are shown in Fig. 2 and 3.
          </p>

          <div class="card mb-3">
            <img src="./assets/images/fig2.jpeg" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><small class="text-muted">Fig. 2. Images captured by the camera robot</small></p>
            </div>
          </div>

          <div class="card mb-3">
            <img src="./assets/images/fig3.jpg" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><small class="text-muted">Fig. 3. The panorama after stitching</small></p>
            </div>
          </div>

          <p>
            We also did a very simple user study with a sample size of 3. In this study, each user had some knowledge about how to use a game controller but no prior experience of manipulating a robot. We asked them to control the Sawyer robot to take a panorama using our method (1). We didn't provide any instructions (such as how to use each button on the game controller) for them in order to test how intuitive our interactive control method is. It takes them about 5 minutes on average to complete the task, and our method is considered relatively easy to use based on their feedback. 
          </p>

        </div>
      </div>
    </div>

    <!-- Motivation -->
    <div class="container mt-5 mb-5">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="obj_det" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Object Detection</h1>
          <p>
            In this part, we added the support for real-time object detection with our RelaxedIK framework.
          </p>

          <div class="card mb-3">
            <img src="./assets/images/penn-fudan.jpeg" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><small class="text-muted">Fig. 4. An exmaple of segmentation mask in the database</small></p>
            </div>
          </div>

          <p>
            We loaded a ResNet50 [5] model for Mask R-CNN [6] (fasterrcnn_resnet50_fpn) from the torchvision module. The model was pre-trained on the COCO dataset [4] and had an initial size of 178 MB. We fine-tuned the model for human body recognition with the Penn-Fudan database [3]. The dataset contained 170 images with 345 instances of pedestrians, and each image had a corresponding segmentation mask (as shown in Fig. 4.). Note that we would also need to detect other types of objects in the environment (e.g. desks, chairs, plants, etc.), but as a sanity check, we focused on human body recognition in this demo. For the PyTorch optimizer, we used a stochastic gradient descent (torch.optim.SGD) method with learning rate=0.005 and momentum=0.9. We also utilized a learning rate scheduler which decreases the learning rate by 10x every 3 epochs for increased performance and faster training. We trained for 10 epochs and did an evaluation for every epoch. The model has a size of 351 MB after the training.
          </p>

          <p>
            After the training phase, we containerized the model in a Predictor class so that we could simply call a prediction function to invoke the forward pass function. A sample input/output is shown in the picture below.
          </p>


          <div class="card mb-3">
            <img src="./assets/images/fig5.jpeg" class="card-img-top" alt="...">
            <div class="card-body">
              <p class="card-text"><small class="text-muted">Fig. 5. Real-time input and output of the camera attached to the robot</small></p>
            </div>
          </div>

          <p>
            In our experiment, each transformation (from the raw image to a segmentation mask) takes about 2s, which leads to high latency. To achieve our goal of smooth real-time object detection, we may need to look into implementations of low latency real-time object detections such as described in this tutorial [8]. Our goal is to detect objects at a rate of at least 100hz (10ms).
          </p>

        </div>
      </div>
    </div>

    <!-- Current State of the Art -->
    <div class="container mt-5 mb-5">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="improvements" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Future Improvements</h1>

          <ul>
            <li><p>Right now our model only supports human body recognition. In the second half of this project, we will try to add support for other types of objects in the environment.</p></li>
            <li><p>So far we have only tested our implementation in a simulated scene with a simple indoor setup. Although we are constrained to work in simulations due to the pandemic, we aim to incorporate more sophisticated scenes that resemble real-life scenarios (e.g., factories, more complicated indoor scenes, etc.) into our testbed.</p></li>
          </ul>

        </div>
      </div>
    </div>



        <!-- Current State of the Art -->
    <div class="container mt-5 mb-5">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="sources" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Sources</h1>
          <ol>
            <li><a href="https://www.coppeliarobotics.com/">CoppeliaSim</a></li>
            <li><a href="https://pytorch.org/tutorials/intermediate/torchvision_tutorial.html">Torchvision object detection finetuning tutorial</a></li>
            <li><a href="https://www.cis.upenn.edu/~jshi/ped_html/">Penn-Fudan Database for Pedestrian Detection and Segmentation</a></li>
            <li><a href="https://cocodataset.org/#home">COCO dataset</a></li>
            <li><a href="https://arxiv.org/abs/1512.03385">Deep Residual Learning for Image Recognition (ResNet)</a></li>
            <li><a href="https://arxiv.org/abs/1512.03385">Mask R-CNN</a></li>
            <li><a href="https://docs.opencv.org/master/d1/d46/group__stitching.html">OpenCV: Image Stitching</a></li>
            <li><a href="https://towardsdatascience.com/building-a-real-time-object-recognition-app-with-tensorflow-and-opencv-b7a2b4ebdc32">Real-time object detection with Tensorflow and OpenCV</a></li>
          </ol>

        </div>
      </div>
    </div>




    <div class="container" id="trafficchecker">
      <div class="row">
        <div class="col-sm-12">
          <script type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?d=F2TBlxWbs3r0SJixlLgyMRNaIqkp9peGGOY8alVvCD0&cl=ffffff&w=a"></script>
        </div>
      </div>
    </div>

        <!-- Misc -->
<!--     <div class="container">
      <div class="row">
        <div class="col-sm-12">
          <a id="about" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Introduction</h1>
          <p>
            Paragraph 1 of final webpage
          </p>
          <h1>Paragraph 2</h1>
          <p>
            Did you ever hear the tragedy of Darth Plagueis The Wise? I thought not. It’s not a story the Jedi would tell you. It’s a Sith legend. Darth Plagueis was a Dark Lord of the Sith, so powerful and so wise he could use the Force to influence the midichlorians to create life… He had such a knowledge of the dark side that he could even keep the ones he cared about from dying. The dark side of the Force is a pathway to many abilities some consider to be unnatural. He became so powerful… the only thing he was afraid of was losing his power, which eventually, of course, he did. Unfortunately, he taught his apprentice everything he knew, then his apprentice killed him in his sleep. Ironic. He could save others from death, but not himself.
          </p>
          <h1>Paragraph 3</h1>
          <p>
            Did you ever hear the tragedy of Darth Plagueis The Wise? I thought not. It’s not a story the Jedi would tell you. It’s a Sith legend. Darth Plagueis was a Dark Lord of the Sith, so powerful and so wise he could use the Force to influence the midichlorians to create life… He had such a knowledge of the dark side that he could even keep the ones he cared about from dying. The dark side of the Force is a pathway to many abilities some consider to be unnatural. He became so powerful… the only thing he was afraid of was losing his power, which eventually, of course, he did. Unfortunately, he taught his apprentice everything he knew, then his apprentice killed him in his sleep. Ironic. He could save others from death, but not himself.
          </p>
          <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
            Link with href
          </a>
          <div class="collapse" id="collapseExample">
            <div class="card card-body">
              Made you look
            </div>
          </div>
          <div class="bd-example">
            <div id="carouselExampleCaptions" class="carousel slide" data-ride="carousel">
              <ol class="carousel-indicators">
                <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
                <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
              </ol>
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="assets/images/uwmadison.png" class="d-block w-100" alt="...">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>First slide label</h5>
                    <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img src="assets/images/ulc.png" class="d-block w-100" alt="...">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>Second slide label</h5>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                  </div>
                </div>
                <div class="carousel-item">
                  <img src="assets/images/housing.jpg" class="d-block w-100" alt="...">
                  <div class="carousel-caption d-none d-md-block">
                    <h5>Third slide label</h5>
                    <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                  </div>
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
          </div>
        </div>
      </div>
    </div> -->

    <!-- Contacts -->
    <div class="jumbotron text-center" style="margin-bottom:0">
      <div class="row">
        <div class="col-sm-12">
          <!-- Fake anchor, otherwise the fixed navbar on the top would cover the title -->
          <a id="contacts" style=" position: relative;top: -60px;display: block;height: 0;overflow: hidden;"></a>
          <h1>Contacts</h1>
        </div>
      </div>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script type="text/javascript">
      document.getElementById("clustrmaps").style.display = "none";
      document.getElementById("trafficchecker").style.display = "none";
    </script>
  </body>
</html>